// Dados das regi√µes brasileiras
const regioesBrasil = [
  {
    id: "nordeste",
    nome: "Nordeste",
    descricao: "Sabores intensos e temperos marcantes da culin√°ria afro-brasileira",
    estados: 9,
    receitas: 150,
    ingredientes: 45,
    image: "../assets/images/culinarianordestina.jpg",
    destaque: ["Acaraj√©", "Moqueca", "Tapioca", "Bai√£o de Dois"],
    link: "regiao.php?regiao=nordeste",
  },
  {
    id: "sudeste",
    nome: "Sudeste",
    descricao: "Tradi√ß√£o e modernidade em harmonia com influ√™ncias de diversas culturas",
    estados: 4,
    receitas: 180,
    ingredientes: 38,
    image: "../assets/images/culinariasudeste.jpg",
    destaque: ["Feijoada", "P√£o de Queijo", "Virado √† Paulista", "Moqueca Capixaba"],
    link: "regiao.php?regiao=sudeste",
  },
  {
    id: "sul",
    nome: "Sul",
    descricao: "Tradi√ß√µes europeias e sabores ga√∫chos em perfeita harmonia",
    estados: 3,
    receitas: 120,
    ingredientes: 32,
    image: "../assets/images/culinariasul.jpg",
    destaque: ["Churrasco", "Barreado", "Cuca Alem√£", "Entrevero"],
    link: "regiao.php?regiao=sul",
  },
  {
    id: "norte",
    nome: "Norte",
    descricao: "Sabores ex√≥ticos da Amaz√¥nia com ingredientes √∫nicos",
    estados: 7,
    receitas: 90,
    ingredientes: 52,
    image: "../assets/images/culinarianorte.jpg",
    destaque: ["Tacac√°", "Pato no Tucupi", "A√ßa√≠", "Pirarucu"],
    link: "regiao.php?regiao=norte",
  },
  {
    id: "centro-oeste",
    nome: "Centro-Oeste",
    descricao: "Sabores do pantanal e cerrado com peixes de √°gua doce",
    estados: 4,
    receitas: 70,
    ingredientes: 28,
    image: "../assets/images/culinariacentrooeste.jpg",
    destaque: ["Pacu Assado", "Pequi com Frango", "Farofa de Banana", "Mojica"],
    link: "regiao.php?regiao=centro-oeste",
  },
]

// Receitas brasileiras
const receitasBrasil = [
  {
    id: 1,
    nome: "Feijoada Completa",
    regiao: "sudeste",
    descricao: "O prato mais tradicional do Brasil com feij√£o preto e carnes",
    tempo: "3h 30min",
    dificuldade: "Intermedi√°rio",
    rating: 4.9,
    image: "../assets/images/feijoada.jpg",
  },
  {
    id: 2,
    nome: "Acaraj√©",
    regiao: "nordeste",
    descricao: "Bolinho de feij√£o fradinho frito no dend√™, t√≠pico da Bahia",
    tempo: "2h",
    dificuldade: "Intermedi√°rio",
    rating: 4.8,
    image: "../assets/images/acaraje1.jpg",
  },
  {
    id: 3,
    nome: "Churrasco Ga√∫cho",
    regiao: "sul",
    descricao: "Carnes assadas na brasa ao estilo tradicional do Sul",
    tempo: "2h",
    dificuldade: "Intermedi√°rio",
    rating: 4.9,
    image: "../assets/images/churrascogaucho.jpg",
  },
  {
    id: 4,
    nome: "Tacac√°",
    regiao: "norte",
    descricao: "Sopa paraense com tucupi, jambu e camar√£o",
    tempo: "1h",
    dificuldade: "B√°sico",
    rating: 4.6,
    image: "../assets/images/tacaca.jpg",
  },
  {
    id: 5,
    nome: "Pequi com Frango",
    regiao: "centro-oeste",
    descricao: "Prato tradicional goiano com o fruto t√≠pico do cerrado",
    tempo: "1h 30min",
    dificuldade: "Intermedi√°rio",
    rating: 4.5,
    image: "../assets/images/pequi.jpg",
  },
  {
    id: 6,
    nome: "P√£o de Queijo",
    regiao: "sudeste",
    descricao: "Quitanda mineira feita com polvilho e queijo",
    tempo: "45min",
    dificuldade: "B√°sico",
    rating: 4.8,
    image: "../assets/images/paodequeijo.jpg",
  },
  {
    id: 7,
    nome: "Bai√£o de Dois",
    regiao: "nordeste",
    descricao: "Arroz com feij√£o de corda e carne de sol",
    tempo: "1h 30min",
    dificuldade: "Intermedi√°rio",
    rating: 4.6,
    image: "../assets/images/baiaode2.jpg",
  },
  {
    id: 8,
    nome: "Barreado",
    regiao: "sul",
    descricao: "Prato paranaense cozido em panela de barro por horas",
    tempo: "6h",
    dificuldade: "Avan√ßado",
    rating: 4.7,
    image: "../assets/images/barreado.jpg",
  },
  {
    id: 9,
    nome: "Pato no Tucupi",
    regiao: "norte",
    descricao: "Prato amazonense com pato e molho de mandioca",
    tempo: "2h 30min",
    dificuldade: "Avan√ßado",
    rating: 4.7,
    image: "../assets/images/patonotucupi.jpg",
  },
]

// Ingredientes t√≠picos
const ingredientesBrasil = [
  {
    id: 1,
    nome: "Dend√™",
    subtitle: "√ìleo sagrado da Bahia",
    descricao: "Extra√≠do da palma africana, essencial na culin√°ria baiana",
    icon: "üå¥",
  },
  {
    id: 2,
    nome: "Queijo Minas",
    subtitle: "Tradi√ß√£o mineira",
    descricao: "Queijo fresco e cremoso, base do p√£o de queijo",
    icon: "üßÄ",
  },
  {
    id: 3,
    nome: "Carne de Sol",
    subtitle: "Prote√≠na do sert√£o",
    descricao: "Carne salgada e seca ao sol, t√©cnica tradicional nordestina",
    icon: "ü•©",
  },
  {
    id: 4,
    nome: "Tucupi",
    subtitle: "Molho amaz√¥nico",
    descricao: "Caldo amarelo extra√≠do da mandioca brava",
    icon: "üåø",
  },
  {
    id: 5,
    nome: "Pequi",
    subtitle: "Fruto do cerrado",
    descricao: "Fruto arom√°tico t√≠pico do Centro-Oeste brasileiro",
    icon: "üçà",
  },
  {
    id: 6,
    nome: "A√ßa√≠",
    subtitle: "Energia da Amaz√¥nia",
    descricao: "Fruto energ√©tico rico em antioxidantes",
    icon: "ü´ê",
  },
]

let filtroAtivo = "todas"

// Inicializa√ß√£o
document.addEventListener("DOMContentLoaded", () => {
  renderRegioes()
  renderReceitas()
  renderIngredientes()
  setupEventListeners()
  handleScroll()
})

// Renderizar regi√µes
function renderRegioes() {
  const container = document.getElementById("regioesGrid")
  if (!container) return

  container.innerHTML = regioesBrasil
    .map(
      (regiao) => `
        <div class="regiao-card ${regiao.id}" onclick="window.location.href='${regiao.link}'">
            <div class="regiao-header" style="background-image: url('${regiao.image}');">
            </div>
            <div class="regiao-body">
                <div class="regiao-title">
                    <h3>${regiao.nome}</h3>
                </div>
                <p>${regiao.descricao}</p>
                <div class="regiao-stats">
                    <div class="regiao-stat">
                        <div class="regiao-stat-number">${regiao.estados}</div>
                        <div class="regiao-stat-label">Estados</div>
                    </div>
                    <div class="regiao-stat">
                        <div class="regiao-stat-number">${regiao.receitas}+</div>
                        <div class="regiao-stat-label">Receitas</div>
                    </div>
                    <div class="regiao-stat">
                        <div class="regiao-stat-number">${regiao.ingredientes}+</div>
                        <div class="regiao-stat-label">Ingredientes</div>
                    </div>
                </div>
                <div class="regiao-tags">
                    ${regiao.destaque
          .slice(0, 3)
          .map((prato) => `<span class="regiao-tag">${prato}</span>`)
          .join("")}
                </div>
            </div>
        </div>
    `,
    )
    .join("")
}

// Renderizar receitas
function renderReceitas() {
  const container = document.getElementById("receitasGrid")
  if (!container) return

  const receitasFiltradas =
    filtroAtivo === "todas" ? receitasBrasil : receitasBrasil.filter((r) => r.regiao === filtroAtivo)

  container.innerHTML = receitasFiltradas
    .map(
      (receita) => `
        <div class="receita-card">
            <div class="receita-image" style="background-image: url('${receita.image}')">
                <div class="receita-badge">${getNomeRegiao(receita.regiao)}</div>
                <div class="receita-rating">
                    <i class="fas fa-star"></i>
                    ${receita.rating}
                </div>
            </div>
            <div class="receita-body">
                <h3>${receita.nome}</h3>
                <p>${receita.descricao}</p>
                <div class="receita-meta">
                    <span>
                        <i class="fas fa-clock"></i>
                        ${receita.tempo}
                    </span>
                    <span>
                        <i class="fas fa-signal"></i>
                        ${receita.dificuldade}
                    </span>
                </div>
                <div class="receita-footer">
                    <span class="receita-region">${getNomeRegiao(receita.regiao)}</span>
                    <button class="receita-btn">
                        Ver Receita
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
    `,
    )
    .join("")
}

// Renderizar ingredientes
function renderIngredientes() {
  const container = document.getElementById("ingredientesGrid")
  if (!container) return

  container.innerHTML = ingredientesBrasil
    .map(
      (ingrediente) => `
        <div class="ingrediente-card">
            <div class="ingrediente-icon">${ingrediente.icon}</div>
            <h3>${ingrediente.nome}</h3>
            <div class="subtitle">${ingrediente.subtitle}</div>
            <p>${ingrediente.descricao}</p>
        </div>
    `,
    )
    .join("")
}

// Setup event listeners
function setupEventListeners() {
  // Filtros de receitas
  document.querySelectorAll(".filtro-btn").forEach((btn) => {
    btn.addEventListener("click", function () {
      document.querySelectorAll(".filtro-btn").forEach((b) => b.classList.remove("active"))
      this.classList.add("active")
      filtroAtivo = this.dataset.regiao
      renderReceitas()
    })
  })

  // Navega√ß√£o suave
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault()
      const target = document.querySelector(this.getAttribute("href"))
      if (target) {
        scrollToSection(target.id)
      }
    })
  })

  // Scroll event
  window.addEventListener("scroll", handleScroll)
}

// Fun√ß√µes auxiliares
function getNomeRegiao(slug) {
  const regiao = regioesBrasil.find((r) => r.id === slug)
  return regiao ? regiao.nome : slug
}

function toggleMenu() {
  const nav = document.getElementById("nav")
  nav.classList.toggle("active")
}

function toggleSearch() {
  const searchContainer = document.getElementById("searchContainer")
  searchContainer.classList.toggle("active")

  if (searchContainer.classList.contains("active")) {
    searchContainer.querySelector(".search-input").focus()
  }
}

function scrollToSection(sectionId) {
  const element = document.getElementById(sectionId)
  if (element) {
    const headerOffset = 80
    const elementPosition = element.getBoundingClientRect().top
    const offsetPosition = elementPosition + window.pageYOffset - headerOffset

    window.scrollTo({
      top: offsetPosition,
      behavior: "smooth",
    })
  }
}

function handleScroll() {
  const header = document.getElementById("header")
  if (window.scrollY > 100) {
    header.classList.add("scrolled")
  } else {
    header.classList.remove("scrolled")
  }
}
